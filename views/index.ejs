<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>EliteGrow</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
</head>

<body>

  <a href="/helpchat"
    class="fixed bottom-10 right-10 bg-blue-600 p-4 text-white rounded-2xl border border-zinc-800 shadow-blue-600 shadow-lg hover:scale-105 transition duration-200">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
      class="size-8">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
    </svg>

  </a>

  <% if (value==0) { %>
    <div class="flex fixed w-full p-4 items-center justify-end">
      <a href="/login"
        class="bg-blue-500 px-3 font-semibold py-1 rounded-md text-white hover:scale-110 hover:bg-blue-600 transition-transform duration-300">Sign
        In</a>
    </div>
    <% } else { %>
      <%}%>

        <div id="messageBox"
          class="hidden fixed top-5 left-5 bg-green-100 border border-green-300 text-green-700 px-4 py-2 rounded shadow">
          <span id="messageText"></span>
        </div>

        <div class="flex items-center justify-center py-10">
          <h1 class="text-[15vw] font-semibold">EliteGrow</h1>
        </div>

         

        <div class="flex justify-center mb-20">

          <div class="flex flex-wrap justify-center gap-6 sm:gap-8 md:gap-10 w-full px-4">
            <% items.slice().reverse().forEach(function(item) { %>
              <% if(item.itemPath) { %>
                <a href="<%= item.itemPath %>/<%= item._id %>"
                  class="w-full sm:w-[48%] md:w-[30%] lg:w-[22%] hover:scale-105 transition duration-300 rounded-lg overflow-hidden flex flex-col bg-zinc-900/10">
                  <div class="aspect-video overflow-hidden">
                    <img class="w-full h-full object-cover"
                      src="data:image/jpeg;base64,<%= item.itemImage.toString('base64') %>" alt="">
                  </div>
                  <div class="flex flex-col pb-2 px-2 pt-1">
                    <h1 class="text-lg sm:text-xl font-semibold">
                      <%= item.itemName %>
                    </h1>
                  </div>
                </a>
                <% } else { %>
                  <a href="item/<%= item._id %>" target="_blank"
                    class="w-full sm:w-[48%] md:w-[30%] lg:w-[22%] hover:scale-105 transition duration-300 rounded-lg overflow-hidden flex flex-col bg-zinc-900/10">
                    <div class="aspect-video overflow-hidden">
                      <img class="w-full h-full object-cover"
                        src="data:image/jpeg;base64,<%= item.itemImage.toString('base64') %>" alt="">
                    </div>
                    <div class="flex flex-col pb-2 px-2 pt-1">
                      <h1 class="text-lg sm:text-xl font-semibold">
                        <%= item.itemName %>
                      </h1>
                    </div>
                  </a>
                  <% } %>
                    <% }); %>
          </div>



        </div>

        <script>
          const urlParams = new URLSearchParams(window.location.search);
          const message = urlParams.get('message');

          if (message) {
            const box = document.getElementById('messageBox');
            const text = document.getElementById('messageText');

            text.textContent = message;
            box.classList.remove('hidden');

            // Hide after 3 seconds
            setTimeout(() => {
              box.classList.add('hidden');

              // âœ… Remove ?message from the URL (without reload)
              const cleanURL = window.location.origin + window.location.pathname;
              window.history.replaceState({}, document.title, cleanURL);
            }, 3000);
          }

        </script>


</body>

</html>