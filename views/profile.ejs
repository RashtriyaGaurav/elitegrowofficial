<%- include('partials/head', { title: "Profile" }) %>
<!-- <%- include('partials/navbar') %> -->

<!-- Profile Header -->
<div class="w-full bg-black/20 py-24 text-center">
  <h1 class="text-4xl sm:text-[6vw] font-bold leading-tight">Your Profile</h1>
  <p class="text-gray-400 mt-2 px-5 text-sm sm:text-base">Manage your information, view your uploads and activity</p>
</div>

<!-- Profile Info -->
<div class="max-w-5xl mx-auto px-6 sm:px-12 py-10 grid grid-cols-1 md:grid-cols-3 gap-6">
  <!-- User Card -->
  <div class="bg-zinc-800/50 p-6 rounded-xl text-center shadow hover:shadow-lg transition duration-300">
    <!-- <img src="<%= user.avatar || '/images/default-avatar.png' %>" alt="User Avatar" class="w-24 h-24 mx-auto rounded-full object-cover mb-4"> -->
    <h2 class="text-xl font-semibold"><%= user.name %></h2>
    <p class="text-gray-400 text-sm"><%= user.email %></p>

    <!-- <a href="/edit-profile" class="mt-4 inline-block text-sm text-blue-400 hover:underline">Edit Profile</a> -->
  </div>

  <!-- User Stats -->
  <div class="md:col-span-2 grid grid-cols-2 sm:grid-cols-3 gap-4">
    <div class="bg-zinc-800/50 p-4 rounded-xl text-center">
      <h3 class="text-2xl font-bold"><%= uploads.length %></h3>
      <p class="text-sm text-gray-400">Assets Uploaded</p>
    </div>
    <div class="bg-zinc-800/50 p-4 rounded-xl text-center">
      <h3 class="text-2xl font-bold"><%= totalClicks %></h3>
      <p class="text-sm text-gray-400">Total Clicks</p>
    </div>
    <div class="bg-zinc-800/50 p-4 rounded-xl text-center">
      <h3 class="text-2xl font-bold"><%= accountCreated %></h3>
      <p class="text-sm text-gray-400">Member Since</p>
    </div>
  </div>
</div>

<!-- Uploads Section -->
<div class="max-w-6xl mx-auto px-6 sm:px-12 pb-20">
  <h2 class="text-2xl sm:text-[2.5vw] font-semibold mb-6" style="font-family: 'Google Sans Code';">Your Uploaded Assets</h2>
  <% if (uploads.length > 0) { %>
    <div class="flex flex-wrap gap-6">
      <% uploads.slice().reverse().forEach(function(item) { %>
        <a href="/item/<%= item._id %>" class="w-full sm:w-[48%] md:w-[30%] lg:w-[22%] hover:scale-105 transition duration-300 rounded-lg overflow-hidden flex flex-col border border-zinc-600">
          <div class="aspect-video overflow-hidden">
            <img class="w-full h-full object-cover" src="data:image/jpeg;base64,<%= item.itemImage.toString('base64') %>" alt="">
          </div>
          <div class="flex flex-col pb-2 px-2 pt-1">
            <h1 class="text-lg sm:text-xl"><%= item.itemName %></h1>
          </div>
        </a>
      <% }); %>
    </div>
  <% } else { %>
    <p class="text-gray-400">You haven't uploaded any assets yet. <a href="/upload" class="text-blue-400 underline">Upload now</a>.</p>
  <% } %>
</div>

<%- include('partials/footer') %>
<%- include('partials/scripts') %>
